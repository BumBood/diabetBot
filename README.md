# DiabetBot - –ë–æ—Ç –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –§–ß–ò –∏ –£–ö

Telegram-–±–æ—Ç –¥–ª—è –ø–æ–º–æ—â–∏ –≤ —Ä–∞—Å—á—ë—Ç–µ —Ñ–æ—Ä–º—É–ª—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ –∏–Ω—Å—É–ª–∏–Ω—É (–§–ß–ò) –∏ —É—Å–ª–æ–≤–Ω–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (–£–ö) –¥–ª—è –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏.

## –§—É–Ω–∫—Ü–∏–∏

### üìä –†–∞—Å—á—ë—Ç –§–ß–ò
- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ–± —É–ª—å—Ç—Ä–∞–∫–æ—Ä–æ—Ç–∫–æ–º –∏–Ω—Å—É–ª–∏–Ω–µ –∑–∞ 3 –¥–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Ñ–æ—Ä–º—É–ª—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –£–ö

### üçΩÔ∏è –†–∞—Å—á—ë—Ç –£–ö
- –ü–æ—à–∞–≥–æ–≤—ã–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–∏—ë–º–µ –ø–∏—â–∏
- –£—á—ë—Ç –ø–æ–¥–∫–æ–ª–æ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–µ–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –†–∞—Å—á—ë—Ç —É—Å–ª–æ–≤–Ω–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –§–ß–ò –∏ –£–ö
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ç—Ä–µ–Ω–¥—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
   ```
   BOT_TOKEN=your_bot_token_here
   POSTGRES_HOST=localhost
   POSTGRES_PORT=5432
   POSTGRES_USER=diabet_user
   POSTGRES_PASSWORD=diabet_password
   POSTGRES_DB=diabet_bot
   DEBUG=True
   ```

5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
   ```bash
   python scripts/init_db.py
   ```

6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python main.py
   ```

### Docker

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞:
   ```
   BOT_TOKEN=your_bot_token_here
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose:
   ```bash
   docker-compose up -d
   ```


## –§–æ—Ä–º—É–ª—ã

### –§–ß–ò
```
–°—Ä–µ–¥–Ω–µ–µ –∑–∞ 3 –¥–Ω—è = (–î–µ–Ω—å1 + –î–µ–Ω—å2 + –î–µ–Ω—å3) / 3
–§–ß–ò = 100 / –°—Ä–µ–¥–Ω–µ–µ
```

### –£–ö
```
–£–ö = ((–°–ö_–æ—Ç—Ä–∞–±–æ—Ç–∫–∞ ‚Äì –°–ö_—Å—Ç–∞—Ä—Ç) / –§–ß–ò + –ò–Ω—Å—É–ª–∏–Ω_–µ–¥–∞ + –ò–Ω—Å—É–ª–∏–Ω_–ø–æ–¥–∫–æ–ª–∫–∏) 
     / (–£–≥–ª–µ–≤–æ–¥—ã_–æ—Å–Ω–æ–≤–Ω—ã–µ + –£–≥–ª–µ–≤–æ–¥—ã_–¥–æ–ø)
```

### –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–¥–∫–æ–ª–æ–∫
- 1 —á–∞—Å –ø–æ—Å–ª–µ –µ–¥—ã ‚Üí √ó 0.85
- 2 —á–∞—Å–∞ –ø–æ—Å–ª–µ –µ–¥—ã ‚Üí √ó 0.6
- 3 —á–∞—Å–∞ –ø–æ—Å–ª–µ –µ–¥—ã ‚Üí √ó 0.25

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
diabetBot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py       # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ states.py         # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ utils.py          # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ base.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ models.py         # –ú–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ repository.py     # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ session.py        # –°–µ—Å—Å–∏–∏ –ë–î
‚îú‚îÄ‚îÄ bot.py               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –í—ã–±–µ—Ä–∏—Ç–µ "üìä –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –§–ß–ò" –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "üçΩÔ∏è –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –£–ö" –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏
4. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ "üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- PostgreSQL 12+
- Telegram Bot Token
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
